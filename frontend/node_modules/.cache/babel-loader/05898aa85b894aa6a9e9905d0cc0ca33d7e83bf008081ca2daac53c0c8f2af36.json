{"ast":null,"code":"var _jsxFileName = \"D:\\\\Legal Assistant\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport ChatWindow from \"./ChatWindow.jsx\";\nimport Sources from \"./Sources.jsx\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" ? \"http://127.0.0.1:8000/api\" : \"/api\";\nexport default function App() {\n  _s();\n  const [messages, setMessages] = useState([{\n    who: \"bot\",\n    text: \"Hi! Ask me about Pakistani landmark cases, citations, principles, or benches. I’ll answer using the indexed cases and cite sources like [1], [2].\"\n  }]);\n  const [status, setStatus] = useState(\"idle\");\n  const [mode, setMode] = useState(\"\");\n  const [sources, setSources] = useState([]);\n  const [input, setInput] = useState(\"\");\n  useEffect(() => {\n    async function checkBackend() {\n      setStatus(\"checking backend…\");\n      try {\n        const res = await fetch(API_BASE.replace(/\\/api$/, \"/\"));\n        setStatus(res.ok ? \"ready\" : \"backend not ready\");\n      } catch {\n        setStatus(\"backend not reachable\");\n      }\n    }\n    checkBackend();\n  }, []);\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const q = input.trim();\n    setMessages(prev => [...prev, {\n      who: \"user\",\n      text: q\n    }, {\n      who: \"bot\",\n      text: \"Thinking…\"\n    }]);\n    setInput(\"\");\n    setStatus(\"contacting backend…\");\n    try {\n      const res = await fetch(`${API_BASE}/chat`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          query: q,\n          top_k: 5\n        })\n      });\n      const data = await res.json();\n      setMessages(prev => [...prev.slice(0, -1), {\n        who: \"bot\",\n        text: data.answer || \"No answer available.\"\n      }]);\n      setSources(data.sources || []);\n      setMode(data.mode || \"\");\n      setStatus(\"done\");\n    } catch (err) {\n      console.error(err);\n      setMessages(prev => [...prev.slice(0, -1), {\n        who: \"bot\",\n        text: \"Error contacting server. See console for details.\"\n      }]);\n      setStatus(\"error\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/logo.png\",\n          alt: \"logo\",\n          className: \"logo\",\n          onError: e => e.target.style.display = \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"AI Legal Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tagline\",\n            children: \"Pakistan case-law RAG chatbot (Gemini + FAISS)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"chat\",\n        children: [/*#__PURE__*/_jsxDEV(ChatWindow, {\n          messages: messages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"chat-form\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            placeholder: \"e.g., What principle did Shehla Zia v. WAPDA establish?\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Ask\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pill-row\",\n          children: [mode && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mode-pill\",\n            children: [\"Generator: \", mode]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-pill\",\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"sources\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sources\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Sources, {\n          sources: sources\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: \"Frontend: React \\u2022 Backend: FastAPI \\u2022 Embeddings: Gemini / Sentence-Transformers \\u2022 Vector DB: FAISS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"Hj/NQR9ArXSTxHi5+N04NFeLXSI=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ChatWindow","Sources","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","window","location","hostname","App","_s","messages","setMessages","who","text","status","setStatus","mode","setMode","sources","setSources","input","setInput","checkBackend","res","fetch","replace","ok","handleSubmit","e","preventDefault","trim","q","prev","method","headers","body","JSON","stringify","query","top_k","data","json","slice","answer","err","console","error","children","className","src","alt","onError","target","style","display","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","placeholder","required","_c","$RefreshReg$"],"sources":["D:/Legal Assistant/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ChatWindow from \"./ChatWindow.jsx\";\r\nimport Sources from \"./Sources.jsx\";\r\n\r\nconst API_BASE =\r\n  window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\"\r\n    ? \"http://127.0.0.1:8000/api\"\r\n    : \"/api\";\r\n\r\nexport default function App() {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      who: \"bot\",\r\n      text:\r\n        \"Hi! Ask me about Pakistani landmark cases, citations, principles, or benches. I’ll answer using the indexed cases and cite sources like [1], [2].\",\r\n    },\r\n  ]);\r\n  const [status, setStatus] = useState(\"idle\");\r\n  const [mode, setMode] = useState(\"\");\r\n  const [sources, setSources] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function checkBackend() {\r\n      setStatus(\"checking backend…\");\r\n      try {\r\n        const res = await fetch(API_BASE.replace(/\\/api$/, \"/\"));\r\n        setStatus(res.ok ? \"ready\" : \"backend not ready\");\r\n      } catch {\r\n        setStatus(\"backend not reachable\");\r\n      }\r\n    }\r\n    checkBackend();\r\n  }, []);\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!input.trim()) return;\r\n    const q = input.trim();\r\n    setMessages((prev) => [...prev, { who: \"user\", text: q }, { who: \"bot\", text: \"Thinking…\" }]);\r\n    setInput(\"\");\r\n    setStatus(\"contacting backend…\");\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/chat`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ query: q, top_k: 5 }),\r\n      });\r\n      const data = await res.json();\r\n      setMessages((prev) => [\r\n        ...prev.slice(0, -1),\r\n        { who: \"bot\", text: data.answer || \"No answer available.\" },\r\n      ]);\r\n      setSources(data.sources || []);\r\n      setMode(data.mode || \"\");\r\n      setStatus(\"done\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessages((prev) => [\r\n        ...prev.slice(0, -1),\r\n        { who: \"bot\", text: \"Error contacting server. See console for details.\" },\r\n      ]);\r\n      setStatus(\"error\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header>\r\n        <div className=\"brand\">\r\n          <img src=\"/assets/logo.png\" alt=\"logo\" className=\"logo\" onError={(e) => (e.target.style.display = \"none\")} />\r\n          <div>\r\n            <h1>AI Legal Assistant</h1>\r\n            <p className=\"tagline\">Pakistan case-law RAG chatbot (Gemini + FAISS)</p>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main>\r\n        <section className=\"chat\">\r\n          <ChatWindow messages={messages} />\r\n          <form className=\"chat-form\" onSubmit={handleSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"e.g., What principle did Shehla Zia v. WAPDA establish?\"\r\n              required\r\n            />\r\n            <button type=\"submit\">Ask</button>\r\n          </form>\r\n          <div className=\"pill-row\">\r\n            {mode && <span className=\"mode-pill\">Generator: {mode}</span>}\r\n            <span className=\"status-pill\">{status}</span>\r\n          </div>\r\n        </section>\r\n\r\n        <aside className=\"sources\">\r\n          <h2>Sources</h2>\r\n          <Sources sources={sources} />\r\n        </aside>\r\n      </main>\r\n\r\n      <footer>\r\n        Frontend: React • Backend: FastAPI • Embeddings: Gemini / Sentence-Transformers • Vector DB: FAISS\r\n      </footer>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}